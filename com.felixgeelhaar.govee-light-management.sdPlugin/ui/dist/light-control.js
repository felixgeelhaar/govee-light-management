import{d as T,u as I,a as S,r as u,w as K,c as w,b as n,o as i,e as s,f as d,g as p,v as m,h as x,i as t,j as y,t as v,k as V,F as D,l as F,m as M,_ as P,n as U,p as N,A as B}from"./propertyInspectorInit.js";const E={class:"light-control-view"},R={class:"config-section","data-testid":"api-key-section"},O={class:"form-group"},G={class:"input-group"},j=["disabled"],z=["disabled"],H={key:0},Q={key:1},$={key:0,class:"status-message status-loading"},q={key:1,class:"status-message status-success"},J={key:2,class:"status-message status-error"},W={class:"config-section","data-testid":"light-selection-section"},X={key:0,class:"form-group"},Y=["disabled"],Z={key:1,class:"status-message status-loading"},ee={key:2,class:"status-message status-error"},se={key:3,class:"form-group"},te={key:0,class:"search-group"},oe={class:"form-group"},le=["disabled"],ne={value:"",disabled:""},ie=["value"],ae=["disabled"],re={key:0},de={key:1},ue={class:"config-section","data-testid":"control-mode-section"},pe={class:"form-group"},ce={key:0,class:"form-group"},ve={class:"range-value"},ge={key:1,class:"form-group"},fe={key:2,class:"form-group"},me={class:"range-value"},ye=T({__name:"LightControlView",setup(be){const a=I(),l=S(),g=u(""),c=u(""),r=u("toggle"),h=u(100),C=u("#ffffff"),b=u(6500),f=u(""),L=()=>{g.value&&a.connect(g.value)},A=()=>{f.value="",l.clearSearch()};return K(()=>a.isConnected.value,k=>{k&&l.isIdle.value&&l.fetchLights()}),w(()=>({apiKey:a.apiKey.value||void 0,selectedDeviceId:c.value.split("|")[0]||void 0,selectedModel:c.value.split("|")[1]||void 0,selectedLightName:c.value?l.filteredLights.value.find(k=>k.value===c.value)?.label:void 0,controlMode:r.value,brightnessValue:r.value==="brightness"?h.value:void 0,colorValue:r.value==="color"?C.value:void 0,colorTempValue:r.value==="colorTemp"?b.value:void 0})),(k,e)=>(i(),n("div",E,[s("section",R,[e[18]||(e[18]=s("h2",null,"API Configuration",-1)),s("div",O,[e[16]||(e[16]=s("label",{for:"apiKey"},"API Key",-1)),s("div",G,[p(s("input",{id:"apiKey","onUpdate:modelValue":e[0]||(e[0]=o=>g.value=o),type:"password",class:"form-input",placeholder:"Enter your Govee API key",autocomplete:"off",disabled:t(a).isConnecting,onKeyup:x(L,["enter"])},null,40,j),[[m,g.value]]),t(a).isDisconnected||t(a).hasError?(i(),n("button",{key:0,class:"btn btn-primary",disabled:!g.value||t(a).isConnecting,onClick:L},[t(a).isConnecting?(i(),n("span",H,"Connecting...")):(i(),n("span",Q,"Connect"))],8,z)):t(a).isConnected?(i(),n("button",{key:1,class:"btn btn-secondary",onClick:e[1]||(e[1]=(...o)=>t(a).disconnect&&t(a).disconnect(...o))}," Disconnect ")):d("",!0)]),t(a).isConnecting?(i(),n("div",$,e[13]||(e[13]=[s("span",{class:"status-icon"},"⏳",-1),y(" Validating API key... ",-1)]))):t(a).isConnected?(i(),n("div",q,e[14]||(e[14]=[s("span",{class:"status-icon"},"✅",-1),y(" API key validated successfully ",-1)]))):t(a).hasError?(i(),n("div",J,[e[15]||(e[15]=s("span",{class:"status-icon"},"❌",-1)),y(" "+v(t(a).error)+" ",1),s("button",{class:"btn-link",onClick:e[2]||(e[2]=(...o)=>t(a).retry&&t(a).retry(...o))},"Retry")])):d("",!0),e[17]||(e[17]=s("small",{class:"help-text"}," Get your API key from the Govee Home app → Settings → About Us → Apply for API Key ",-1))])]),s("section",W,[e[23]||(e[23]=s("h2",null,"Light Selection",-1)),t(l).isIdle?(i(),n("div",X,[s("button",{class:"btn btn-primary",disabled:!t(a).isConnected,onClick:e[3]||(e[3]=(...o)=>t(l).fetchLights&&t(l).fetchLights(...o))}," Discover Lights ",8,Y),e[19]||(e[19]=s("small",{class:"help-text"}," Connect your API key first, then discover available lights ",-1))])):t(l).isFetchingLights?(i(),n("div",Z,e[20]||(e[20]=[s("span",{class:"status-icon"},"⏳",-1),y(" Discovering lights... ",-1)]))):t(l).hasError?(i(),n("div",ee,[e[21]||(e[21]=s("span",{class:"status-icon"},"❌",-1)),y(" "+v(t(l).error)+" ",1),s("button",{class:"btn-link",onClick:e[4]||(e[4]=(...o)=>t(l).retryFetch&&t(l).retryFetch(...o))},"Retry")])):t(l).isReady?(i(),n("div",se,[t(l).hasLights?(i(),n("div",te,[p(s("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>f.value=o),type:"text",class:"form-input",placeholder:"Search lights...",onInput:e[6]||(e[6]=o=>t(l).searchLights(f.value))},null,544),[[m,f.value]]),f.value?(i(),n("button",{key:0,class:"btn-clear",onClick:A}," ✕ ")):d("",!0)])):d("",!0),s("div",oe,[e[22]||(e[22]=s("label",{for:"lightSelect"},"Light",-1)),p(s("select",{id:"lightSelect","onUpdate:modelValue":e[7]||(e[7]=o=>c.value=o),class:"form-select",disabled:!t(l).hasFilteredLights},[s("option",ne,v(t(l).hasFilteredLights?"Select a light...":"No lights found"),1),(i(!0),n(D,null,F(t(l).filteredLights,o=>(i(),n("option",{key:o.value,value:o.value},v(o.label),9,ie))),128))],8,le),[[V,c.value]])]),s("button",{class:"btn btn-secondary",onClick:e[8]||(e[8]=(...o)=>t(l).refreshLights&&t(l).refreshLights(...o)),disabled:t(l).isFetchingLights},[t(l).isFetchingLights?(i(),n("span",re,"Refreshing...")):(i(),n("span",de,"Refresh Lights"))],8,ae)])):d("",!0)]),s("section",ue,[e[29]||(e[29]=s("h2",null,"Control Mode",-1)),s("div",pe,[e[25]||(e[25]=s("label",{for:"controlMode"},"Control Mode",-1)),p(s("select",{id:"controlMode","onUpdate:modelValue":e[9]||(e[9]=o=>r.value=o),class:"form-select"},e[24]||(e[24]=[M('<option value="toggle" data-v-62905e2f>Toggle On/Off</option><option value="on" data-v-62905e2f>Turn On</option><option value="off" data-v-62905e2f>Turn Off</option><option value="brightness" data-v-62905e2f>Set Brightness</option><option value="color" data-v-62905e2f>Set Color</option><option value="colorTemp" data-v-62905e2f>Set Color Temperature</option>',6)]),512),[[V,r.value]])]),r.value==="brightness"?(i(),n("div",ce,[e[26]||(e[26]=s("label",{for:"brightness"},"Brightness (%)",-1)),p(s("input",{id:"brightness","onUpdate:modelValue":e[10]||(e[10]=o=>h.value=o),type:"range",min:"1",max:"100",class:"form-range"},null,512),[[m,h.value,void 0,{number:!0}]]),s("span",ve,v(h.value)+"%",1)])):d("",!0),r.value==="color"?(i(),n("div",ge,[e[27]||(e[27]=s("label",{for:"color"},"Color",-1)),p(s("input",{id:"color","onUpdate:modelValue":e[11]||(e[11]=o=>C.value=o),type:"color",class:"form-color"},null,512),[[m,C.value]])])):d("",!0),r.value==="colorTemp"?(i(),n("div",fe,[e[28]||(e[28]=s("label",{for:"colorTemp"},"Color Temperature (K)",-1)),p(s("input",{id:"colorTemp","onUpdate:modelValue":e[12]||(e[12]=o=>b.value=o),type:"range",min:"2000",max:"9000",step:"100",class:"form-range"},null,512),[[m,b.value,void 0,{number:!0}]]),s("span",me,v(b.value)+"K",1)])):d("",!0)])]))}}),he=P(ye,[["__scopeId","data-v-62905e2f"]]);U();const _=N(B);_.component("main-view",he);_.mount("#app");
//# sourceMappingURL=light-control.js.map
