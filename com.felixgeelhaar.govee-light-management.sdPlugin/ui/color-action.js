import{w as C,i as w,A as M}from"./chunks/propertyInspectorInit-ES-6d6Fn.js";import{B as L}from"./chunks/BaseActionView-T1KDmxJI.js";import{d as x,k as d,s as B,m as T,h as R,o as u,i as D,f as t,c as v,a as h,y as g,H as b,D as y,F as N,r as U,g as z,n as W,G as $}from"./chunks/vue-vendor-CA8X9H5U.js";import{_ as j}from"./chunks/feedback-DiKmv6ah.js";import"./chunks/xstate-vendor-C3sHgvBT.js";const E={class:"config-section"},G={class:"form-group"},H={class:"radio-group"},q={class:"radio-option"},J={class:"radio-option"},K={class:"form-group"},O={class:"color-input-group"},Q={key:0,class:"form-group"},X={class:"color-presets"},Y=["onClick","title"],Z={key:0,class:"preset-check"},ee=["disabled"],te={key:1,class:"form-group"},oe={class:"preset-controls"},le=["disabled"],se=x({__name:"ColorActionView",setup(ae){const m=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#FFFFFF"],n=d("#FF0000"),o=d([...m]),i=d(!0),l=d(0),c=d(),P=(s,e,r)=>{f()},k=s=>{console.log("Settings changed:",s)},S=s=>{l.value=s,n.value=o.value[s]},I=()=>{o.value.includes(n.value)||(o.value.push(n.value),l.value=o.value.length-1)},A=()=>{o.value.length>1&&l.value<o.value.length&&(o.value.splice(l.value,1),l.value=Math.min(l.value,o.value.length-1),n.value=o.value[l.value])},V=()=>{o.value=[...m],l.value=0,n.value=o.value[0]},f=()=>{if(!c.value)return;const s={targetType:"light",color:n.value,colorPresets:o.value,usePresets:i.value,currentPresetIndex:l.value},e=c.value.selectedLight,r=c.value.selectedLightInfo;if(e&&r){const[F,a]=e.split("|");s.lightId=F,s.lightModel=a,s.lightName=r.label}c.value.saveSettings(s)};return B([n,o,i,l],()=>{f()},{deep:!0}),T(()=>{const s=()=>{C.isConnected?C.on("sendToPropertyInspector",e=>{if(e.payload?.event==="currentSettings"){const r=e.payload.settings;n.value=r.color||"#FF0000",o.value=r.colorPresets||[...m],i.value=r.usePresets!==void 0?r.usePresets:!0,l.value=r.currentPresetIndex||0}}):setTimeout(s,100)};s()}),(s,e)=>(u(),R(L,{"action-type":"color","config-title":"Color Settings","action-summary":"Change Light Color",onLightSelected:P,onSettingsChanged:k,ref_key:"baseActionRef",ref:c},{"action-config":D(({selectedLight:r,lightInfo:F})=>[t("section",E,[e[11]||(e[11]=t("h2",null,"Color Settings",-1)),t("div",G,[e[6]||(e[6]=t("label",null,"Color Selection Mode",-1)),t("div",H,[t("label",q,[g(t("input",{type:"radio","onUpdate:modelValue":e[0]||(e[0]=a=>i.value=a),value:!0,name:"colorMode"},null,512),[[b,i.value]]),e[4]||(e[4]=t("span",null,"Color Presets",-1))]),t("label",J,[g(t("input",{type:"radio","onUpdate:modelValue":e[1]||(e[1]=a=>i.value=a),value:!1,name:"colorMode"},null,512),[[b,i.value]]),e[5]||(e[5]=t("span",null,"Color Wheel",-1))])]),e[7]||(e[7]=t("small",{class:"help-text"}," Presets cycle through predefined colors, Color Wheel adjusts hue continuously ",-1))]),t("div",K,[e[8]||(e[8]=t("label",{for:"currentColor"},"Current Color",-1)),t("div",O,[g(t("input",{id:"currentColor","onUpdate:modelValue":e[2]||(e[2]=a=>n.value=a),type:"color",class:"color-input"},null,512),[[y,n.value]]),g(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>n.value=a),type:"text",class:"form-input color-hex",placeholder:"#FF0000",pattern:"^#[0-9A-Fa-f]{6}$"},null,512),[[y,n.value]])])]),i.value?(u(),v("div",Q,[e[9]||(e[9]=t("label",null,"Color Presets",-1)),t("div",X,[(u(!0),v(N,null,U(o.value,(a,p)=>(u(),v("div",{key:p,class:W(["color-preset",{active:l.value===p}]),style:z({backgroundColor:a}),onClick:re=>S(p),title:a},[l.value===p?(u(),v("span",Z,"âœ“")):h("",!0)],14,Y))),128)),t("button",{class:"btn btn-small btn-secondary",onClick:I,disabled:o.value.includes(n.value),title:"Add current color to presets"}," + ",8,ee)]),e[10]||(e[10]=t("small",{class:"help-text"}," Click a preset to select it, or use the + button to add the current color ",-1))])):h("",!0),i.value?(u(),v("div",te,[t("div",oe,[t("button",{class:"btn btn-small btn-secondary",onClick:V}," Reset to Defaults "),t("button",{class:"btn btn-small btn-secondary",onClick:A,disabled:o.value.length<=1||l.value>=o.value.length}," Remove Selected ",8,le)])])):h("",!0)])]),_:1},512))}}),ne=j(se,[["__scopeId","data-v-6783d29e"]]);w();const _=$(M);_.component("main-view",ne);_.mount("#app");
